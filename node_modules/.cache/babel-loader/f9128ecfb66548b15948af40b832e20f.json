{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Home.vue?vue&type=template&id=5a90ec03&scoped=true","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Home.vue","mtime":1658239034749},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\babel.config.js","mtime":1658239012002},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1658554972315},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658554910597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgdlNob3cgYXMgX3ZTaG93LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtNWE5MGVjMDMiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiYmFubmVyLWJveCIKfTsKdmFyIF9ob2lzdGVkXzIgPSBbInNyYyJdOwp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogIm1hcmsiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAidGl0bGUiCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAidGlwIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBrZXk6IDEKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJjb250ZW50Igp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogImxhenktbW9yZSIsCiAgcmVmOiAibG9hZE1vcmUiCn07Cgp2YXIgX2hvaXN0ZWRfOSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLlsI/kuLvvvIznsr7lvanmlbDmja7lh4blpIfkuK0uLi4iKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfSGVhZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkIik7CgogIHZhciBfY29tcG9uZW50X3JvdXRlcl9saW5rID0gX3Jlc29sdmVDb21wb25lbnQoInJvdXRlci1saW5rIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9zd2lwZV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1zd2lwZS1pdGVtIik7CgogIHZhciBfY29tcG9uZW50X3Zhbl9zd2lwZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tc3dpcGUiKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX3NrZWxldG9uID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1za2VsZXRvbiIpOwoKICB2YXIgX2NvbXBvbmVudF92YW5fZGl2aWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tZGl2aWRlciIpOwoKICB2YXIgX2NvbXBvbmVudF9JdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIkl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfdmFuX2xvYWRpbmcgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWxvYWRpbmciKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIg5aS06YOoICIpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9IZWFkLCB7CiAgICB0aW1lOiBfY3R4LnRvZGF5CiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInRpbWUiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDova7mkq3lm74gIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNlY3Rpb24iLCBfaG9pc3RlZF8xLCBbX2N0eC5iYW5uZXJMaXN0Lmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF92YW5fc3dpcGUsIHsKICAgIGtleTogMCwKICAgIGF1dG9wbGF5OiAiMzAwMCIsCiAgICAibGF6eS1yZW5kZXIiOiAiIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KF9jdHguYmFubmVyTGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF92YW5fc3dpcGVfaXRlbSwgewogICAgICAgICAga2V5OiBpdGVtLmlkCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICAgICAgICAgICAgdG86ICIvZGV0YWlsLyIuY29uY2F0KGl0ZW0uaWQpLAogICAgICAgICAgICAgIGNsYXNzOiAiY29udGVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogICAgICAgICAgICAgICAgICBzcmM6IGl0ZW0uaW1hZ2UsCiAgICAgICAgICAgICAgICAgIGFsdDogIiIKICAgICAgICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAgICAgICAsIF9ob2lzdGVkXzIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBfaG9pc3RlZF80LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0udGl0bGUpLCAxCiAgICAgICAgICAgICAgICAvKiBURVhUICovCiAgICAgICAgICAgICAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNSwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmhpbnQpLCAxCiAgICAgICAgICAgICAgICAvKiBURVhUICovCiAgICAgICAgICAgICAgICApXSldOwogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAvKiBEWU5BTUlDICovCgogICAgICAgICAgICB9LCAxMDMyCiAgICAgICAgICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAgICAgICAgICwgWyJ0byJdKV07CiAgICAgICAgICB9KSwKICAgICAgICAgIF86IDIKICAgICAgICAgIC8qIERZTkFNSUMgKi8KCiAgICAgICAgfSwgMTAyNAogICAgICAgIC8qIERZTkFNSUNfU0xPVFMgKi8KICAgICAgICApOwogICAgICB9KSwgMTI4CiAgICAgIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgICAgICkpXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIg5paw6Ze75YiX6KGoICIpLCBfY3R4Lm5ld3NMaXN0Lmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3Zhbl9za2VsZXRvbiwgewogICAga2V5OiAwLAogICAgdGl0bGU6ICIiLAogICAgcm93OiA1CiAgfSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5uZXdzTGlzdCwgZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJzZWN0aW9uIiwgewogICAgICBjbGFzczogIm5ld3MtYm94IiwKICAgICAga2V5OiBpbmRleAogICAgfSwgW2luZGV4ICE9PSAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfdmFuX2RpdmlkZXIsIHsKICAgICAga2V5OiAwLAogICAgICAiY29udGVudC1wb3NpdGlvbiI6ICJsZWZ0IgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmZvcm1hdFRpbWUoaXRlbS5kYXRlLCAiezF95pyIezJ95pelIikpLCAxCiAgICAgICAgLyogVEVYVCAqLwogICAgICAgICldOwogICAgICB9KSwKICAgICAgXzogMgogICAgICAvKiBEWU5BTUlDICovCgogICAgfSwgMTAyNAogICAgLyogRFlOQU1JQ19TTE9UUyAqLwogICAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGl0ZW0uc3RvcmllcywgZnVuY3Rpb24gKGl0ZW0yKSB7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0l0ZW0sIHsKICAgICAgICBrZXk6IGl0ZW0yLmlkLAogICAgICAgIGRhdGE6IGl0ZW0yCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbImRhdGEiXSk7CiAgICB9KSwgMTI4CiAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgKSldKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSkpLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9sb2FkaW5nLCB7CiAgICBzaXplOiAiMTJweCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfOV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KV0sIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBbW192U2hvdywgX2N0eC5uZXdzTGlzdC5sZW5ndGggIT09IDBdXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- 头部 -->\n  <Head :time=\"today\" />\n  <!-- 轮播图 -->\n  <section class=\"banner-box\">\n    <van-swipe v-if=\"bannerList.length > 0\" autoplay=\"3000\" lazy-render>\n      <van-swipe-item v-for=\"item in bannerList\" :key=\"item.id\">\n        <router-link :to=\"`/detail/${item.id}`\" class=\"content\">\n          <img :src=\"item.image\" alt=\"\" />\n          <div class=\"mark\">\n            <h3 class=\"title\">{{ item.title }}</h3>\n            <span class=\"tip\">{{ item.hint }}</span>\n          </div>\n        </router-link>\n      </van-swipe-item>\n    </van-swipe>\n  </section>\n  <!-- 新闻列表 -->\n  <van-skeleton title :row=\"5\" v-if=\"newsList.length === 0\"></van-skeleton>\n  <div v-else>\n    <section class=\"news-box\" v-for=\"(item, index) in newsList\" :key=\"index\">\n      <van-divider content-position=\"left\" v-if=\"index !== 0\">\n        {{ formatTime(item.date, \"{1}月{2}日\") }}\n      </van-divider>\n      <div class=\"content\">\n        <Item v-for=\"item2 in item.stories\" :key=\"item2.id\" :data=\"item2\" />\n      </div>\n    </section>\n  </div>\n  <div class=\"lazy-more\" v-show=\"newsList.length !== 0\" ref=\"loadMore\">\n    <van-loading size=\"12px\">小主，精彩数据准备中...</van-loading>\n  </div>\n</template>\n\n<script>\nimport Head from \"@/components/Head.vue\";\nimport Item from \"@/components/Item.vue\";\nimport { reactive, toRefs, onBeforeMount, ref, onMounted } from \"vue\";\nimport { formatTime } from \"@/assets/utils\";\nimport api from \"@/api/index\";\n\nexport default {\n  components: { Head, Item },\n  name: \"Home\",\n  setup() {\n    let state = reactive({\n      today: \"\",\n      newsList: [],\n      bannerList: [],\n    });\n    let loadMore = ref(null);\n\n    // 第一次加载获取数据\n    onBeforeMount(async () => {\n      let { date, stories, top_stories } = await api.queryNewsLatest();\n      state.today = date;\n      state.newsList.push(\n        Object.freeze({\n          date,\n          stories,\n        })\n      );\n      state.bannerList = Object.freeze(top_stories);\n    });\n\n    // 第一次渲染完:加载更多数据\n    onMounted(() => {\n      let ob = new IntersectionObserver(async (changes) => {\n        let item = changes[0];\n        if (item.isIntersecting) {\n          let result = await api.queryNewsBefore(\n            state.newsList[state.newsList.length - 1][\"date\"]\n          );\n          state.newsList.push(Object.freeze(result));\n        }\n      });\n      ob.observe(loadMore.value);\n    });\n\n    return {\n      ...toRefs(state),\n      loadMore,\n      formatTime,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.banner-box {\n  box-sizing: border-box;\n  height: 375px;\n  background: #d5d5d5;\n\n  .van-swipe {\n    height: 100%;\n    background: #fff;\n\n    .content {\n      position: relative;\n      display: block;\n      height: 100%;\n      color: #fff;\n\n      img {\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n\n      .mark {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        box-sizing: border-box;\n        padding: 10px 20px;\n        width: 100%;\n        height: 110px;\n        background: rgba(0, 0, 0, 0.3);\n        background: -webkit-linear-gradient(\n          top,\n          rgba(0, 0, 0, 0),\n          rgba(0, 0, 0, 0.5)\n        );\n\n        .title {\n          padding-top: 10px;\n          max-height: 50px;\n          font-size: 20px;\n          line-height: 25px;\n          overflow: hidden;\n        }\n\n        .tip {\n          font-size: 12px;\n          line-height: 20px;\n        }\n      }\n    }\n\n    /deep/ .van-swipe__indicators {\n      left: auto;\n      right: 15px;\n      transform: none;\n\n      .van-swipe__indicator--active {\n        width: 15px;\n        border-radius: 3px;\n        background: #fff;\n      }\n    }\n  }\n}\n\n.news-box {\n  padding: 0 15px;\n\n  .van-divider {\n    margin: 5px 0;\n    font-size: 12px;\n\n    &:before {\n      display: none;\n    }\n  }\n}\n\n.van-skeleton {\n  padding: 30px 15px;\n}\n\n.lazy-more {\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n  background: #f4f4f4;\n}\n</style>"],"sourceRoot":""}]}