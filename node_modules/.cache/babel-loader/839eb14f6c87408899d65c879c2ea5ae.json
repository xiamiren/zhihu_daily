{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Detail.vue","mtime":1658239034678},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\babel.config.js","mtime":1658239012002},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658554910597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvSmFtZXMvRGVza3RvcC9rZWppYW4vdnVlM1x1NzdFNVx1NEU0RVx1NjVFNVx1NjJBNS96aGlodS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9KYW1lcy9EZXNrdG9wL2tlamlhbi92dWUzXHU3N0U1XHU0RTRFXHU2NUU1XHU2MkE1L3poaWh1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcywgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBvblVwZGF0ZWQsIGNvbXB1dGVkIH0gZnJvbSAidnVlIjsKaW1wb3J0IGFwaSBmcm9tICJAL2FwaS9pbmRleCI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAidmFudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGV0YWlsIiwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCksCiAgICAgICAgcm91dGUgPSB1c2VSb3V0ZSgpLAogICAgICAgIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgY29tbWVudHM6IDAsCiAgICAgIHBvcHVsYXJpdHk6IDAsCiAgICAgIG5ld3NJbmZvOiBudWxsCiAgICB9KTsKICAgIHZhciBpc1N0b3JlID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3N0b3JlJHN0YXRlID0gc3RvcmUuc3RhdGUsCiAgICAgICAgICBpc0xvZ2luID0gX3N0b3JlJHN0YXRlLmlzTG9naW4sCiAgICAgICAgICBzdG9yZUxpc3QgPSBfc3RvcmUkc3RhdGUuc3RvcmVMaXN0OwoKICAgICAgaWYgKGlzTG9naW4pIHsKICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3RvcmVMaXN0KSkgc3RvcmVMaXN0ID0gW107CiAgICAgICAgcmV0dXJuIHN0b3JlTGlzdC5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gK2l0ZW0ubmV3cy5pZCA9PT0gK3JvdXRlLnBhcmFtcy5pZDsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CiAgICBvbkJlZm9yZU1vdW50KCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoc3RvcmUuc3RhdGUuaXNMb2dpbiA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goImNoYW5nZUlzTG9naW5Bc3luYyIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5pc0xvZ2luKSB7CiAgICAgICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUuaW5mbyA9PT0gbnVsbCkgc3RvcmUuZGlzcGF0Y2goImNoYW5nZUluZm9Bc3luYyIpOwogICAgICAgICAgICAgICAgaWYgKHN0b3JlLnN0YXRlLnN0b3JlTGlzdCA9PT0gbnVsbCkgc3RvcmUuZGlzcGF0Y2goImNoYW5nZVN0b3JlTGlzdEFzeW5jIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSk7CgogICAgdmFyIHN0b3JlSGFuZGxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJGFwaSRzdG9yZSwgY29kZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZS5pc0xvZ2luKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgVG9hc3QoIuWwj+S4u++8jOivt+WFiOeZu+W9leWTpn4iKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogIi9sb2dpbiIsCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgZnJvbTogImRldGFpbC8iLmNvbmNhdChyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAoIWlzU3RvcmUudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuc3RvcmUocm91dGUucGFyYW1zLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3lpZWxkJGFwaSRzdG9yZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29kZSA9IF95aWVsZCRhcGkkc3RvcmUuY29kZTsKCiAgICAgICAgICAgICAgICBpZiAoISgrY29kZSAhPT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgVG9hc3QoIuWwj+S4u++8jOW+iOmBl+aGvu+8jOaUtuiXj+Wksei0pX4iKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIFRvYXN0KCLlsI/kuLvlvojmo5LvvIzmlLbol4/miJDlip/kuoZ+Iik7CiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgiY2hhbmdlU3RvcmVMaXN0QXN5bmMiKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBzdG9yZUhhbmRsZSgpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBvbkJlZm9yZU1vdW50KCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGlkLCByZXN1bHQsIGxpbmssIF95aWVsZCRhcGkkcXVlcnlOZXdzUywgcG9wdWxhcml0eSwgY29tbWVudHM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlkID0gcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXBpLnF1ZXJ5TmV3c0luZm8oaWQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHN0YXRlLm5ld3NJbmZvID0gcmVzdWx0OyAvLyDliqjmgIHliJvlu7pDU1MKCiAgICAgICAgICAgICAgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTsKICAgICAgICAgICAgICBsaW5rLmlkID0gImxpbmsiOwogICAgICAgICAgICAgIGxpbmsucmVsID0gInN0eWxlc2hlZXQiOwogICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHN0YXRlLm5ld3NJbmZvLmNzc1swXTsKICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIGFwaS5xdWVyeU5ld3NTdG9yeShpZCk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF95aWVsZCRhcGkkcXVlcnlOZXdzUyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHBvcHVsYXJpdHkgPSBfeWllbGQkYXBpJHF1ZXJ5TmV3c1MucG9wdWxhcml0eTsKICAgICAgICAgICAgICBjb21tZW50cyA9IF95aWVsZCRhcGkkcXVlcnlOZXdzUy5jb21tZW50czsKICAgICAgICAgICAgICBzdGF0ZS5wb3B1bGFyaXR5ID0gcG9wdWxhcml0eTsKICAgICAgICAgICAgICBzdGF0ZS5jb21tZW50cyA9IGNvbW1lbnRzOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSk7CiAgICBvblVwZGF0ZWQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgaW1nUGxhY2VIb2xkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaW1nLXBsYWNlLWhvbGRlciIpOwoKICAgICAgaWYgKGltZ1BsYWNlSG9sZGVyKSB7CiAgICAgICAgaWYgKGltZ1BsYWNlSG9sZGVyLmlubmVySFRNTC50cmltKCkgPT09ICIiKSB7CiAgICAgICAgICBpbWdQbGFjZUhvbGRlci5pbm5lckhUTUwgKz0gIjxpbWcgc3JjPVwiIi5jb25jYXQoc3RhdGUubmV3c0luZm8uaW1hZ2UsICJcIiBhbHQ9XCJcIi8+Iik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIG9uQmVmb3JlVW5tb3VudChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxpbmsiKTsKICAgICAgaWYgKCFsaW5rKSByZXR1cm47CiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQobGluayk7CiAgICB9KTsKCiAgICB2YXIgaGFuZGxlID0gZnVuY3Rpb24gaGFuZGxlKCkgewogICAgICByb3V0ZXIuYmFjaygpOwogICAgfTsKCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoc3RhdGUpKSwge30sIHsKICAgICAgaXNTdG9yZTogaXNTdG9yZSwKICAgICAgaGFuZGxlOiBoYW5kbGUsCiAgICAgIHN0b3JlSGFuZGxlOiBzdG9yZUhhbmRsZQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <van-skeleton title :row=\"5\" v-if=\"newsInfo === null\" />\n  <div class=\"content\" v-else v-html=\"newsInfo.body\"></div>\n  <div class=\"nav-box\">\n    <van-icon name=\"arrow-left\" @click=\"handle\"></van-icon>\n    <van-icon name=\"comment-o\" :badge=\"comments\"></van-icon>\n    <van-icon name=\"good-job-o\" :badge=\"popularity\"></van-icon>\n    <van-icon\n      name=\"star-o\"\n      :color=\"isStore ? '#1989fa' : '#000'\"\n      @click=\"storeHandle\"\n    ></van-icon>\n    <van-icon name=\"share-o\" color=\"#ccc\"></van-icon>\n  </div>\n</template>\n\n<script>\nimport { useRouter, useRoute } from \"vue-router\";\nimport {\n  reactive,\n  toRefs,\n  onBeforeMount,\n  onBeforeUnmount,\n  onUpdated,\n  computed,\n} from \"vue\";\nimport api from \"@/api/index\";\nimport { useStore } from \"vuex\";\nimport { Toast } from \"vant\";\n\nexport default {\n  name: \"Detail\",\n  setup() {\n    const router = useRouter(),\n      route = useRoute(),\n      store = useStore();\n    let state = reactive({\n      comments: 0,\n      popularity: 0,\n      newsInfo: null,\n    });\n\n    let isStore = computed(() => {\n      let { isLogin, storeList } = store.state;\n      if (isLogin) {\n        if (!Array.isArray(storeList)) storeList = [];\n        return storeList.some((item) => {\n          return +item.news.id === +route.params.id;\n        });\n      }\n      return false;\n    });\n    onBeforeMount(async () => {\n      if (store.state.isLogin === null) {\n        await store.dispatch(\"changeIsLoginAsync\");\n      }\n      if (store.state.isLogin) {\n        if (store.state.info === null) store.dispatch(\"changeInfoAsync\");\n        if (store.state.storeList === null)\n          store.dispatch(\"changeStoreListAsync\");\n      }\n    });\n    const storeHandle = async () => {\n      if (!store.state.isLogin) {\n        Toast(\"小主，请先登录哦~\");\n        router.push({\n          path: \"/login\",\n          query: {\n            from: `detail/${route.params.id}`,\n          },\n        });\n        return;\n      }\n      if (isStore.value) return;\n      let { code } = await api.store(route.params.id);\n      if (+code !== 0) {\n        Toast(\"小主，很遗憾，收藏失败~\");\n        return;\n      }\n      Toast(\"小主很棒，收藏成功了~\");\n      store.dispatch(\"changeStoreListAsync\");\n    };\n\n    onBeforeMount(async () => {\n      let id = route.params.id;\n      let result = await api.queryNewsInfo(id);\n      state.newsInfo = result;\n      // 动态创建CSS\n      let link = document.createElement(\"link\");\n      link.id = \"link\";\n      link.rel = \"stylesheet\";\n      link.href = state.newsInfo.css[0];\n      document.head.appendChild(link);\n      let { popularity, comments } = await api.queryNewsStory(id);\n      state.popularity = popularity;\n      state.comments = comments;\n    });\n    onUpdated(() => {\n      let imgPlaceHolder = document.querySelector(\".img-place-holder\");\n      if (imgPlaceHolder) {\n        if (imgPlaceHolder.innerHTML.trim() === \"\") {\n          imgPlaceHolder.innerHTML += `<img src=\"${state.newsInfo.image}\" alt=\"\"/>`;\n        }\n      }\n    });\n    onBeforeUnmount(() => {\n      let link = document.getElementById(\"link\");\n      if (!link) return;\n      document.head.removeChild(link);\n    });\n\n    const handle = () => {\n      router.back();\n    };\n\n    return {\n      ...toRefs(state),\n      isStore,\n      handle,\n      storeHandle,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.content {\n  background: #fff;\n  padding-bottom: 50px;\n  margin: 0;\n\n  /deep/ .img-place-holder {\n    height: 375px;\n    overflow: hidden;\n    img {\n      display: block;\n      margin: 0;\n      width: 100%;\n      min-height: 100%;\n    }\n  }\n}\n\n.van-skeleton {\n  padding: 30px 15px;\n}\n\n.nav-box {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 0 15px;\n  width: 100%;\n  height: 50px;\n  background: #f4f4f4;\n\n  .van-icon:nth-child(1) {\n    position: relative;\n    &::after {\n      position: absolute;\n      top: -10%;\n      right: -15px;\n      content: \"\";\n      width: 1px;\n      height: 120%;\n      background: #d5d5d5;\n    }\n  }\n\n  /deep/ .van-badge {\n    background-color: transparent;\n    border: none;\n    color: #000;\n    right: -5px;\n  }\n}\n</style>"],"sourceRoot":""}]}