{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Detail.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Detail.vue","mtime":1660475592847},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\babel.config.js","mtime":1658239012002},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658554910597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvSmFtZXMvRGVza3RvcC9rZWppYW4vdnVlM1x1NzdFNVx1NEU0RVx1NjVFNVx1NjJBNS96aGlodS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9KYW1lcy9EZXNrdG9wL2tlamlhbi92dWUzXHU3N0U1XHU0RTRFXHU2NUU1XHU2MkE1L3poaWh1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBhcGkgZnJvbSAnQC9hcGknOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25VcGRhdGVkLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFRvYXN0IH0gZnJvbSAndmFudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGV0YWlsJywKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGVyID0gbmV3IHVzZVJvdXRlcigpLAogICAgICAgIHJvdXRlID0gdXNlUm91dGUoKSwKICAgICAgICBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIGNvbW1lbnRzOiAwLAogICAgICAvL+ivhOiuuuaVsAogICAgICBwb3B1bGFyaXR5OiAwLAogICAgICAvL+eCuei1nuaVsAogICAgICBuZXdzSW5mbzogbnVsbCAvL+aWsOmXu+S/oeaBrwoKICAgIH0pOwogICAgdmFyIGlzTG9naW4gPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5pc0xvZ2luOwogICAgfSk7CiAgICB2YXIgc3RvcmVMaXN0ID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuc3RvcmVMaXN0IHx8IFtdOwogICAgfSk7CiAgICB2YXIgaXNTdG9yZSA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdG9yZSRzdGF0ZSA9IHN0b3JlLnN0YXRlLAogICAgICAgICAgaXNMb2dpbiA9IF9zdG9yZSRzdGF0ZS5pc0xvZ2luLAogICAgICAgICAgc3RvcmVMaXN0ID0gX3N0b3JlJHN0YXRlLnN0b3JlTGlzdDsKCiAgICAgIGlmIChpc0xvZ2luKSB7CiAgICAgICAgLy8g5Yik5pat5piv5ZCm55m75b2V77yM5bm25qOA5p+l5pS26JeP5YiX6KGo5Lit5piv5ZCm5pyJ6K+l6aG5CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0b3JlTGlzdCkpIHN0b3JlTGlzdCA9IFtdOwogICAgICAgIHJldHVybiBzdG9yZUxpc3Quc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuICtpdGVtLm5ld3MuaWQgPT09ICtyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBzdG9yZUhhbmRsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkYXBpJHN0b3JlLCBjb2RlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgVG9hc3QoJ+Wwj+S4u+ivt+WFiOeZu+W9lScpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgICBmcm9tOiAiZGV0YWlsLyIuY29uY2F0KHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCFpc1N0b3JlLnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnN0b3JlKHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF95aWVsZCRhcGkkc3RvcmUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29kZSA9IF95aWVsZCRhcGkkc3RvcmUuY29kZTsKCiAgICAgICAgICAgICAgICBpZiAoISgrY29kZSAhPT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBUb2FzdCgn5bCP5Li777yM5b6I6YGX5oa+77yM5pS26JeP5aSx6LSlJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIFRvYXN0KCflsI/kuLvlvojmo5LvvIzmlLbol4/miJDlip/kuoZ+Jyk7IC8vIOabtOaWsHZ1ZXjkuK3nmoRzdG9yZUxpc3TnmoTmlbDmja4KCiAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnY2hhbmdlU3RvcmVMaXN0QXN5bmMnKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gc3RvcmVIYW5kbGUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBvbkJlZm9yZU1vdW50KCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIShzdG9yZS5zdGF0ZS5pc0xvZ2luID09PSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VBc3luY0lzTG9naW4nKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgICAgICAgICAgaWYgKHN0b3JlLnN0YXRlLmluZm8gPT09IG51bGwpIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VBc3luY0luZm8nKTsKCiAgICAgICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUuc3RvcmVMaXN0ID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VTdG9yZUxpc3RBc3luYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSk7CiAgICBvbkJlZm9yZU1vdW50KCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGlkLCByZXN1bHQsIGxpbmssIF95aWVsZCRhcGkkcXVlcnlOZXdzUywgcG9wdWxhcml0eSwgY29tbWVudHM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlkID0gcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXBpLnF1ZXJ5TmV3c0luZm8oaWQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIC8v6I635Y+W55qE5b2T5YmNaWTnmoTkv6Hmga8KICAgICAgICAgICAgICAvLyDpobXpnaLnmoTlhoXlrrnkv6Hmga8KICAgICAgICAgICAgICBzdGF0ZS5uZXdzSW5mbyA9IHJlc3VsdDsgLy8g5Yqo5oCB5Yib5bu6Y3NzCgogICAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7CiAgICAgICAgICAgICAgbGluay5pZCA9ICdsaW5rJzsKICAgICAgICAgICAgICBsaW5rLnJlbCA9ICdzdHlsZXNoZWV0JzsKICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBzdGF0ZS5uZXdzSW5mby5jc3NbMF07CiAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBhcGkucXVlcnlOZXdzU3RvcnkoaWQpOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfeWllbGQkYXBpJHF1ZXJ5TmV3c1MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBwb3B1bGFyaXR5ID0gX3lpZWxkJGFwaSRxdWVyeU5ld3NTLnBvcHVsYXJpdHk7CiAgICAgICAgICAgICAgY29tbWVudHMgPSBfeWllbGQkYXBpJHF1ZXJ5TmV3c1MuY29tbWVudHM7CiAgICAgICAgICAgICAgc3RhdGUuY29tbWVudHMgPSBjb21tZW50czsgLy/or4TorrrmlbAKCiAgICAgICAgICAgICAgc3RhdGUucG9wdWxhcml0eSA9IHBvcHVsYXJpdHk7IC8v54K56LWe5pWwCgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKTsKICAgIG9uVXBkYXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpbWdQbGFjZUhvbGRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWctcGxhY2UtaG9sZGVyJyk7CgogICAgICBpZiAoaW1nUGxhY2VIb2xkZXIpIHsKICAgICAgICBpZiAoaW1nUGxhY2VIb2xkZXIuaW5uZXJIVE1MLnRyaW0oKSA9PT0gJycpIHsKICAgICAgICAgIGltZ1BsYWNlSG9sZGVyLmlubmVySFRNTCArPSAiPGltZyBzcmM9XCIiLmNvbmNhdChzdGF0ZS5uZXdzSW5mby5pbWFnZSwgIlwiIC8+Iik7CiAgICAgICAgICBpbWdQbGFjZUhvbGRlci5pbm5lckhUTUwgKz0gIjxkaXYgY2xhc3M9XCJtYXNrXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3M9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAiLmNvbmNhdChzdGF0ZS5uZXdzSW5mby50aXRsZSwgIlxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8L2Rpdj4iKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgb25CZWZvcmVVbm1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgLy8g56e76ZmkY3Nz77yM6Ziy5q2i5LiO5YW25LuW6aG16Z2i55qE5qC35byP5Y+R55Sf5Yay56qBCiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpbmsnKTsKICAgICAgaWYgKCFsaW5rKSByZXR1cm47CiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQobGluayk7CiAgICB9KTsKCiAgICB2YXIgaGFuZGxlID0gZnVuY3Rpb24gaGFuZGxlKCkgewogICAgICByb3V0ZXIuYmFjaygpOwogICAgfTsKCiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgaGFuZGxlOiBoYW5kbGUKICAgIH0sIHRvUmVmcyhzdGF0ZSkpLCB7fSwgewogICAgICBpc0xvZ2luOiBpc0xvZ2luLAogICAgICBzdG9yZUxpc3Q6IHN0b3JlTGlzdCwKICAgICAgaXNTdG9yZTogaXNTdG9yZSwKICAgICAgc3RvcmVIYW5kbGU6IHN0b3JlSGFuZGxlCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <van-skeleton title :row=\"5\" v-if=\"newsInfo === null\" />\r\n  <div class=\"content\" v-else v-html=\"newsInfo.body\"></div>\r\n\r\n  <div class=\"nav-box\">\r\n    <van-icon name=\"arrow-left\" @click=\"handle\" />\r\n    <van-icon name=\"comment-o\" :badge=\"comments\" />\r\n    <van-icon name=\"good-job-o\" :badge=\"popularity\" />\r\n    <van-icon\r\n      name=\"star-o\"\r\n      :color=\"isStore ? '#1989fa' : '#000'\"\r\n      @click=\"storeHandle\"\r\n    />\r\n    <van-icon name=\"share-o\" color=\"#ccc\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/api'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport {\r\n  reactive,\r\n  toRefs,\r\n  onBeforeMount,\r\n  onBeforeUnmount,\r\n  onUpdated,\r\n  computed\r\n} from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { Toast } from 'vant'\r\n\r\nexport default {\r\n  name: 'Detail',\r\n  setup() {\r\n    const router = new useRouter(),\r\n      route = useRoute(),\r\n      store = useStore()\r\n\r\n    let state = reactive({\r\n      comments: 0, //评论数\r\n      popularity: 0, //点赞数\r\n      newsInfo: null //新闻信息\r\n    })\r\n    let isLogin = computed(() => {\r\n      return store.state.isLogin\r\n    })\r\n    let storeList = computed(() => {\r\n      return store.state.storeList || []\r\n    })\r\n    let isStore = computed(() => {\r\n      let { isLogin, storeList } = store.state\r\n      if (isLogin) {\r\n        // 判断是否登录，并检查收藏列表中是否有该项\r\n        if (!Array.isArray(storeList)) storeList = []\r\n        return storeList.some(item => {\r\n          return +item.news.id === +route.params.id\r\n        })\r\n      }\r\n    })\r\n    const storeHandle = async () => {\r\n      // 是否登录\r\n      if (!store.state.isLogin) {\r\n        Toast('小主请先登录')\r\n        router.push({\r\n          path: '/login',\r\n          query: {\r\n            from: `detail/${route.params.id}`\r\n          }\r\n        })\r\n        return\r\n      }\r\n      // 如果已经收藏，则移除收藏 ？\r\n      if (isStore.value) return\r\n      /* 发送收藏请求 */\r\n      let { code } = await api.store(route.params.id)\r\n      if (+code !== 0) {\r\n        Toast('小主，很遗憾，收藏失败')\r\n        return\r\n      }\r\n      Toast('小主很棒，收藏成功了~')\r\n      // 更新vuex中的storeList的数据\r\n      store.dispatch('changeStoreListAsync')\r\n    }\r\n\r\n    onBeforeMount(async () => {\r\n      if (store.state.isLogin === null) {\r\n        await store.dispatch('changeAsyncIsLogin')\r\n      }\r\n      if (store.state.isLogin) {\r\n        if (store.state.info === null) store.dispatch('changeAsyncInfo')\r\n        if (store.state.storeList === null) {\r\n          store.dispatch('changeStoreListAsync')\r\n        }\r\n      }\r\n    })\r\n\r\n    onBeforeMount(async () => {\r\n      let id = route.params.id\r\n      let result = await api.queryNewsInfo(id) //获取的当前id的信息\r\n      // 页面的内容信息\r\n      state.newsInfo = result\r\n      // 动态创建css\r\n      let link = document.createElement('link')\r\n      link.id = 'link'\r\n      link.rel = 'stylesheet'\r\n      link.href = state.newsInfo.css[0]\r\n      document.head.appendChild(link)\r\n      let { popularity, comments } = await api.queryNewsStory(id)\r\n      state.comments = comments //评论数\r\n      state.popularity = popularity //点赞数\r\n    })\r\n\r\n    onUpdated(() => {\r\n      let imgPlaceHolder = document.querySelector('.img-place-holder')\r\n      if (imgPlaceHolder) {\r\n        if (imgPlaceHolder.innerHTML.trim() === '') {\r\n          imgPlaceHolder.innerHTML += `<img src=\"${state.newsInfo.image}\" />`\r\n          imgPlaceHolder.innerHTML += `<div class=\"mask\">\r\n            <h2 class=\"title\">\r\n              ${state.newsInfo.title}\r\n            </h2>\r\n          </div>`\r\n        }\r\n      }\r\n    })\r\n\r\n    onBeforeUnmount(() => {\r\n      // 移除css，防止与其他页面的样式发生冲突\r\n      let link = document.getElementById('link')\r\n      if (!link) return\r\n      document.head.removeChild(link)\r\n    })\r\n\r\n    const handle = function() {\r\n      router.back()\r\n    }\r\n    return {\r\n      handle,\r\n      ...toRefs(state),\r\n      isLogin,\r\n      storeList,\r\n      isStore,\r\n      storeHandle\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .van-skeleton {\r\n    padding: 30px 15px;\r\n  }\r\n\r\n  .content {\r\n    background-color: #fff;\r\n    padding-bottom: 50px;\r\n    margin-top: 0;\r\n    // 在scoped直接使用less,scss修改vant样式是无效的,需要添加deep来设置样式,即影响子元素\r\n    /deep/ .img-place-holder {\r\n      position: relative;\r\n      height: 375px;\r\n      overflow: hidden;\r\n\r\n      img {\r\n        display: block;\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n\r\n      .mask {\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 200px;\r\n        background: -webkit-linear-gradient(\r\n          bottom,\r\n          rgba(0, 0, 0, 0.3),\r\n          rgba(0, 0, 0, 0)\r\n        );\r\n\r\n        .title {\r\n          position: absolute;\r\n          bottom: 20px;\r\n          left: 10px;\r\n          padding: 0 20px;\r\n          font-size: 20px;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .nav-box {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    padding: 0 15px;\r\n    width: 100%;\r\n    height: 50px;\r\n    background-color: #f4f4f4;\r\n\r\n    .van-icon:nth-child(1) {\r\n      position: relative;\r\n\r\n      &::after {\r\n        position: absolute;\r\n        top: -10%;\r\n        right: -15px;\r\n        content: '';\r\n        width: 1px;\r\n        height: 120%;\r\n        background: #d5d5d5;\r\n      }\r\n    }\r\n\r\n    /deep/ .van-badge {\r\n      background: transparent;\r\n      border: none;\r\n      color: #000;\r\n      right: -5px;\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}