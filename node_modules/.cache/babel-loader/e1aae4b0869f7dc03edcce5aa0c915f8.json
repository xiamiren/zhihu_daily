{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\router\\index.js","mtime":1658239035997},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\babel.config.js","mtime":1658239012002},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\eslint-loader\\index.js","mtime":1658554930941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0phbWVzL0Rlc2t0b3Ava2VqaWFuL3Z1ZTNcdTc3RTVcdTRFNEVcdTY1RTVcdTYyQTUvemhpaHUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIYXNoSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUvaW5kZXgiOwppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL2luZGV4JzsKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGFzaEhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBhcnIsIGlzTG9naW4sIF95aWVsZCRhcGkkY2hlY2tMb2dpbiwgY29kZSwgZGF0YTsKCiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGFyciA9IFsnL3BlcnNvbicsICcvdXBkYXRlcGVyc29uJywgJy9zdG9yZSddOwoKICAgICAgICAgICAgaWYgKCFhcnIuaW5jbHVkZXModG8ucGF0aCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOagoemqjOaYr+WQpueZu+W9lQogICAgICAgICAgICBpc0xvZ2luID0gc3RvcmUuc3RhdGUuaXNMb2dpbjsKCiAgICAgICAgICAgIGlmICghaXNMb2dpbikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgaWYgKCEoaXNMb2dpbiA9PT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBUb2FzdCgn5bCP5Li777yM6K+35oKo5YWI55m75b2V5ZOmficpOwogICAgICAgICAgICBuZXh0KCcvbG9naW4nKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgaWYgKCEoaXNMb2dpbiA9PT0gbnVsbCkpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gYXBpLmNoZWNrTG9naW4oKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBfeWllbGQkYXBpJGNoZWNrTG9naW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb2RlID0gX3lpZWxkJGFwaSRjaGVja0xvZ2luLmNvZGU7CiAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXBpJGNoZWNrTG9naW4uZGF0YTsKCiAgICAgICAgICAgIGlmICghKCtjb2RlICE9PSAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgVG9hc3QoJ+Wwj+S4u++8jOivt+aCqOWFiOeZu+W9leWTpn4nKTsKICAgICAgICAgICAgbmV4dCgnL2xvZ2luJyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnY2hhbmdlSXNMb2dpbicsIHRydWUpOwogICAgICAgICAgICBzdG9yZS5jb21taXQoJ2NoYW5nZUluZm8nLCBkYXRhKTsKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyNjsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxMSk7CgogICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxMSwgMjZdXSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/James/Desktop/kejian/vue3知乎日报/zhihu/src/router/index.js"],"names":["createRouter","createWebHashHistory","routes","store","api","Toast","router","history","beforeEach","to","from","next","arr","includes","path","isLogin","state","checkLogin","code","data","commit"],"mappings":";;;;AAAA,SAASA,YAAT,EAAuBC,oBAAvB,QAAmD,YAAnD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,KAAT,QAAsB,MAAtB;AAEA,IAAMC,MAAM,GAAGN,YAAY,CAAC;AACxBO,EAAAA,OAAO,EAAEN,oBAAoB,EADL;AAExBC,EAAAA,MAAM,EAANA;AAFwB,CAAD,CAA3B;AAIAI,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACVC,YAAAA,GADU,GACJ,CAAC,SAAD,EAAY,eAAZ,EAA6B,QAA7B,CADI;;AAAA,iBAEVA,GAAG,CAACC,QAAJ,CAAaJ,EAAE,CAACK,IAAhB,CAFU;AAAA;AAAA;AAAA;;AAGV;AACIC,YAAAA,OAJM,GAIIZ,KAAK,CAACa,KAAN,CAAYD,OAJhB;;AAAA,iBAKNA,OALM;AAAA;AAAA;AAAA;;AAMNJ,YAAAA,IAAI;AANE;;AAAA;AAAA,kBASNI,OAAO,KAAK,KATN;AAAA;AAAA;AAAA;;AAUNV,YAAAA,KAAK,CAAC,YAAD,CAAL;AACAM,YAAAA,IAAI,CAAC,QAAD,CAAJ;AAXM;;AAAA;AAAA,kBAcNI,OAAO,KAAK,IAdN;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAgByBX,GAAG,CAACa,UAAJ,EAhBzB;;AAAA;AAAA;AAgBIC,YAAAA,IAhBJ,yBAgBIA,IAhBJ;AAgBUC,YAAAA,IAhBV,yBAgBUA,IAhBV;;AAAA,kBAiBE,CAACD,IAAD,KAAU,CAjBZ;AAAA;AAAA;AAAA;;AAkBEb,YAAAA,KAAK,CAAC,YAAD,CAAL;AACAM,YAAAA,IAAI,CAAC,QAAD,CAAJ;AAnBF;;AAAA;AAsBFR,YAAAA,KAAK,CAACiB,MAAN,CAAa,eAAb,EAA8B,IAA9B;AACAjB,YAAAA,KAAK,CAACiB,MAAN,CAAa,YAAb,EAA2BD,IAA3B;AACAR,YAAAA,IAAI;AAxBF;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AA6BdA,YAAAA,IAAI;;AA7BU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AA+BA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router';\nimport routes from './routes';\nimport store from \"@/store/index\";\nimport api from '@/api/index';\nimport { Toast } from 'vant';\n\nconst router = createRouter({\n    history: createWebHashHistory(),\n    routes\n});\nrouter.beforeEach(async (to, from, next) => {\n    let arr = ['/person', '/updateperson', '/store'];\n    if (arr.includes(to.path)) {\n        // 校验是否登录\n        let isLogin = store.state.isLogin;\n        if (isLogin) {\n            next();\n            return;\n        }\n        if (isLogin === false) {\n            Toast('小主，请您先登录哦~');\n            next('/login');\n            return;\n        }\n        if (isLogin === null) {\n            try {\n                let { code, data } = await api.checkLogin();\n                if (+code !== 0) {\n                    Toast('小主，请您先登录哦~');\n                    next('/login');\n                    return;\n                }\n                store.commit('changeIsLogin', true);\n                store.commit('changeInfo', data);\n                next();\n            } catch (err) { }\n            return;\n        }\n    }\n    next();\n});\nexport default router;"]}]}