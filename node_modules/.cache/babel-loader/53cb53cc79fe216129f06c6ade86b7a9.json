{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\components\\Head.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\components\\Head.vue","mtime":1658913422799},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\babel.config.js","mtime":1658239012002},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658554910597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkM6L1VzZXJzL0phbWVzL0Rlc2t0b3Ava2VqaWFuL3Z1ZTNcdTc3RTVcdTRFNEVcdTY1RTVcdTYyQTUvemhpaHUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIGNvbXB1dGVkLCBvbkJlZm9yZU1vdW50IH0gZnJvbSAidnVlIjsKaW1wb3J0IHRpbWcgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL3RpbWcuanBnJzsKaW1wb3J0IHsgZm9ybWF0VGltZSB9IGZyb20gIi4uL2Fzc2V0cy91dGlscyI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGVhZCIsCiAgcHJvcHM6IHsKICAgIHRpbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzKSB7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHBpYyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdG9yZSRzdGF0ZSA9IHN0b3JlLnN0YXRlLAogICAgICAgICAgaXNMb2dpbiA9IF9zdG9yZSRzdGF0ZS5pc0xvZ2luLAogICAgICAgICAgaW5mbyA9IF9zdG9yZSRzdGF0ZS5pbmZvOwoKICAgICAgaWYgKGlzTG9naW4gJiYgaW5mbykgewogICAgICAgIHJldHVybiBpbmZvLnBpYyB8fCB0aW1nOwogICAgICB9CgogICAgICByZXR1cm4gdGltZzsKICAgIH0pOwogICAgdmFyIHRpbWVOb3cgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0aW1lID0gcHJvcHMudGltZSB8fCBudWxsOwoKICAgICAgdmFyIF9mb3JtYXRUaW1lJHNwbGl0ID0gZm9ybWF0VGltZSh0aW1lLCAnezF9LXsyfScpLnNwbGl0KCctJyksCiAgICAgICAgICBfZm9ybWF0VGltZSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfZm9ybWF0VGltZSRzcGxpdCwgMiksCiAgICAgICAgICBtb250aCA9IF9mb3JtYXRUaW1lJHNwbGl0MlswXSwKICAgICAgICAgIGRheSA9IF9mb3JtYXRUaW1lJHNwbGl0MlsxXTsKCiAgICAgIHZhciBhcmVhID0gWyfkuIDmnIgnLCAn5LqM5pyIJywgJ+S4ieaciCcsICflm5vmnIgnLCAn5LqU5pyIJywgJ+WFreaciCcsICfkuIPmnIgnLCAn5YWr5pyIJywgJ+S5neaciCcsICfljYHmnIgnLCAn5Y2B5LiA5pyIJywgJ+WNgeS6jOaciCddOwogICAgICByZXR1cm4gewogICAgICAgIG1vbnRoOiBhcmVhW21vbnRoIC0gMV0sCiAgICAgICAgZGF5OiBkYXkKICAgICAgfTsKICAgIH0pOwogICAgb25CZWZvcmVNb3VudChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc3RvcmUkc3RhdGUyID0gc3RvcmUuc3RhdGUsCiAgICAgICAgICBpc0xvZ2luID0gX3N0b3JlJHN0YXRlMi5pc0xvZ2luLAogICAgICAgICAgaW5mbyA9IF9zdG9yZSRzdGF0ZTIuaW5mbzsKCiAgICAgIGlmIChpc0xvZ2luID09PSBudWxsKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUFzeW5jSXNMb2dpbicpOwogICAgICB9CgogICAgICBpZiAoaW5mbyA9PT0gbnVsbCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VBc3luY0luZm8nKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBwaWM6IHBpYywKICAgICAgdGltZU5vdzogdGltZU5vdwogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\components\\Head.vue"],"names":[],"mappings":";;;AAoBA,SAAS,QAAT,EAAmB,MAAnB,EAA2B,QAA3B,EAAqC,aAArC,QAA0D,KAA1D;AACA,OAAO,IAAP,MAAiB,0BAAjB;AACA,SAAS,UAAT,QAA2B,iBAA3B;AACA,SAAQ,QAAR,QAAuB,MAAvB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,MADF;AAEJ,MAAA,OAAO,EAAE;AAFL;AADD,GAFM;AAQb,EAAA,KARa,iBAQP,KARO,EAQA;AACX,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAI,GAAE,GAAI,QAAQ,CAAC,YAAM;AACvB,yBAAuB,KAAK,CAAC,KAA7B;AAAA,UAAM,OAAN,gBAAM,OAAN;AAAA,UAAe,IAAf,gBAAe,IAAf;;AACA,UAAG,OAAM,IAAK,IAAd,EAAoB;AAClB,eAAO,IAAI,CAAC,GAAL,IAAY,IAAnB;AACF;;AACA,aAAO,IAAP;AACD,KANiB,CAAlB;AAOA,QAAI,OAAM,GAAI,QAAQ,CAAC,YAAM;AAC3B,UAAI,IAAG,GAAI,KAAK,CAAC,IAAN,IAAc,IAAzB;;AACA,8BAAmB,UAAU,CAAC,IAAD,EAAO,SAAP,CAAV,CAA4B,KAA5B,CAAkC,GAAlC,CAAnB;AAAA;AAAA,UAAK,KAAL;AAAA,UAAY,GAAZ;;AACA,UAAI,IAAG,GAAI,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,IAAzC,EAA8C,IAA9C,EAAmD,KAAnD,EAAyD,KAAzD,CAAX;AACA,aAAO;AACL,QAAA,KAAK,EAAE,IAAI,CAAC,KAAI,GAAI,CAAT,CADN;AAEL,QAAA,GAAE,EAAF;AAFK,OAAP;AAID,KARqB,CAAtB;AASA,IAAA,aAAa,CAAC,YAAM;AAClB,0BAAsB,KAAK,CAAC,KAA5B;AAAA,UAAK,OAAL,iBAAK,OAAL;AAAA,UAAc,IAAd,iBAAc,IAAd;;AACA,UAAG,OAAM,KAAM,IAAf,EAAqB;AACnB,QAAA,KAAK,CAAC,QAAN,CAAe,oBAAf;AACF;;AACA,UAAG,IAAG,KAAM,IAAZ,EAAkB;AAChB,QAAA,KAAK,CAAC,QAAN,CAAe,iBAAf;AACF;AACD,KARY,CAAb;AASA,WAAO;AACL,MAAA,GAAG,EAAH,GADK;AAEL,MAAA,OAAM,EAAN;AAFK,KAAP;AAID;AAvCY,CAAf","sourcesContent":["<template>\r\n  <header class=\"header-box\">\r\n    <!-- 头部左侧 -->\r\n    <div class=\"left\">\r\n      <!-- 日期部分 -->\r\n      <div class=\"time\">\r\n        <span>{{timeNow.day}}</span>\r\n        <span>{{timeNow.month}}</span>\r\n      </div>\r\n      <!-- 标题部分 -->\r\n      <h1 class=\"title\">知乎日报</h1>\r\n    </div>\r\n    <!-- 头部右侧 -->\r\n    <router-link to=\"/person\" class=\"link-btn\">\r\n      <img :src=\"pic\"/>\r\n    </router-link>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs, computed, onBeforeMount } from \"vue\";\r\nimport timg from '@/assets/images/timg.jpg';\r\nimport { formatTime } from \"../assets/utils\";\r\nimport {useStore} from 'vuex';\r\nexport default {\r\n  name: \"Head\",\r\n  props: {\r\n    time: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  setup(props) {\r\n    const store = useStore();\r\n    let pic = computed(() => {\r\n      let { isLogin, info} = store.state;\r\n      if(isLogin && info) {\r\n        return info.pic || timg;\r\n      }\r\n      return timg;\r\n    })\r\n    let timeNow = computed(() => {\r\n      let time = props.time || null;\r\n      let [month, day] = formatTime(time, '{1}-{2}').split('-');\r\n      let area = ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月',];\r\n      return {\r\n        month: area[month - 1],\r\n        day\r\n      }\r\n    });\r\n    onBeforeMount(() => {\r\n      let {isLogin, info} = store.state;\r\n      if(isLogin === null) {\r\n        store.dispatch('changeAsyncIsLogin')\r\n      }\r\n      if(info === null) {\r\n        store.dispatch('changeAsyncInfo')\r\n      }\r\n    })\r\n    return {\r\n      pic,\r\n      timeNow\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 15px;\r\n\r\n  .left {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n  }\r\n\r\n  .time {\r\n    padding-right: 15px;\r\n    border-right: 1px solid #ddd;\r\n\r\n    span {\r\n      display: block;\r\n      height: 20px;\r\n      line-height: 20px;\r\n      font-size: 20px;\r\n      text-align: center;\r\n\r\n      &:nth-child(2) {\r\n        height: 15px;\r\n        line-height: 15px;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .title {\r\n    padding-left: 10px;\r\n    font-size: 22px;\r\n  }\r\n\r\n  .link-btn {\r\n    box-sizing: border-box;\r\n    width: 30px;\r\n    height: 30px;\r\n\r\n    img {\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n}</style\r\n>\"\r\n"],"sourceRoot":""}]}