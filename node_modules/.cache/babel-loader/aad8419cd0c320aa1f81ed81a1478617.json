{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\api\\http.js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\api\\http.js","mtime":1658828630649},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\babel.config.js","mtime":1658239012002},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\eslint-loader\\index.js","mtime":1658554930941}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBxcyBmcm9tICdxcyc7CmltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tICdAL2Fzc2V0cy91dGlscyc7CmltcG9ydCB7IE5vdGlmeSB9IGZyb20gJ3ZhbnQnOwppbXBvcnQgbWQ1IGZyb20gJ2JsdWVpbXAtbWQ1JzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICcnOwpheGlvcy5kZWZhdWx0cy50aW1lb3V0ID0gNjAwMDA7CgpheGlvcy5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHsKICBpZiAoaXNQbGFpbk9iamVjdChkYXRhKSkgcmV0dXJuIHFzLnN0cmluZ2lmeShkYXRhKTsKICByZXR1cm4gZGF0YTsKfTsKCmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g6ZKI5a+55LqO6YOo5YiG5o6l5Y+j77yM5oiR5Lus5pC65bim5Luk54mM5ZKM562+5ZCN5L+h5oGvCiAgdmFyIGFwaUxpc3QgPSBbJy9jaGVja19sb2dpbicsICcvdXNlcl9pbmZvJywgJy91c2VyX3VwZGF0ZScsICcvc3RvcmUnLCAnL3N0b3JlX3JlbW92ZScsICcvc3RvcmVfbGlzdCddLAogICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOyAvL3Rva2VuCgogIGlmIChhcGlMaXN0LmluY2x1ZGVzKGNvbmZpZy51cmwucmVwbGFjZSgnL2FwaScsICcnKSkgJiYgdG9rZW4pIHsKICAgIC8vcmVwbGFjZeabv+aNomFwaeS4uuepugogICAgdmFyIHRpbWUgPSArbmV3IERhdGUoKSwKICAgICAgICAvL+aXtumXtOaIswogICAgc2lnbiA9IG1kNSgiIi5jb25jYXQodG9rZW4sICJAIikuY29uY2F0KHRpbWUsICJAemh1ZmVuZyIpKTsgLy/nrb7lkI3kv6Hmga8KCiAgICBjb25maWcuaGVhZGVyc1snYXV0aG9yemF0aW9uJ10gPSB0b2tlbjsKICAgIGNvbmZpZy5oZWFkZXJzWyd0aW1lJ10gPSB0aW1lOwogICAgY29uZmlnLmhlYWRlcnNbJ3NpZ24nXSA9IHNpZ247CiAgfQoKICByZXR1cm4gY29uZmlnOwp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKfSwgZnVuY3Rpb24gKHJlYXNvbikgewogIE5vdGlmeSh7CiAgICB0eXBlOiAnZGFuZ2VyJywKICAgIG1lc3NhZ2U6ICflsI/kuLss5b2T5YmN572R57uc57mB5b+ZLOivt+eojeWQjuWGjeivlSEnCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7Cn0pOwpleHBvcnQgZGVmYXVsdCBheGlvczs="},{"version":3,"sources":["C:/Users/James/Desktop/kejian/vue3知乎日报/zhihu/src/api/http.js"],"names":["axios","qs","isPlainObject","Notify","md5","defaults","baseURL","timeout","transformRequest","data","stringify","interceptors","request","use","config","apiList","token","localStorage","getItem","includes","url","replace","time","Date","sign","headers","response","reason","type","message","Promise","reject"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACAJ,KAAK,CAACK,QAAN,CAAeC,OAAf,GAAyB,EAAzB;AACAN,KAAK,CAACK,QAAN,CAAeE,OAAf,GAAyB,KAAzB;;AACAP,KAAK,CAACK,QAAN,CAAeG,gBAAf,GAAkC,UAAAC,IAAI,EAAI;AACtC,MAAIP,aAAa,CAACO,IAAD,CAAjB,EAAyB,OAAOR,EAAE,CAACS,SAAH,CAAaD,IAAb,CAAP;AACzB,SAAOA,IAAP;AACH,CAHD;;AAIAT,KAAK,CAACW,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACrC;AACA,MAAIC,OAAO,GAAG,CAAC,cAAD,EAAiB,YAAjB,EAA+B,cAA/B,EAA+C,QAA/C,EAAyD,eAAzD,EAA0E,aAA1E,CAAd;AAAA,MACIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADZ,CAFqC,CAGM;;AAC3C,MAAIH,OAAO,CAACI,QAAR,CAAiBL,MAAM,CAACM,GAAP,CAAWC,OAAX,CAAmB,MAAnB,EAA2B,EAA3B,CAAjB,KAAoDL,KAAxD,EAA+D;AAAE;AAC7D,QAAIM,IAAI,GAAG,CAAC,IAAIC,IAAJ,EAAZ;AAAA,QAAwB;AACpBC,IAAAA,IAAI,GAAGpB,GAAG,WAAIY,KAAJ,cAAaM,IAAb,cADd,CAD2D,CAEf;;AAC5CR,IAAAA,MAAM,CAACW,OAAP,CAAe,cAAf,IAAiCT,KAAjC;AACAF,IAAAA,MAAM,CAACW,OAAP,CAAe,MAAf,IAAyBH,IAAzB;AACAR,IAAAA,MAAM,CAACW,OAAP,CAAe,MAAf,IAAyBD,IAAzB;AACH;;AACD,SAAOV,MAAP;AACH,CAZD;AAaAd,KAAK,CAACW,YAAN,CAAmBe,QAAnB,CAA4Bb,GAA5B,CAAgC,UAAAa,QAAQ,EAAI;AACxC,SAAOA,QAAQ,CAACjB,IAAhB;AACH,CAFD,EAEG,UAAAkB,MAAM,EAAI;AACTxB,EAAAA,MAAM,CAAC;AACHyB,IAAAA,IAAI,EAAE,QADH;AAEHC,IAAAA,OAAO,EAAE;AAFN,GAAD,CAAN;AAIA,SAAOC,OAAO,CAACC,MAAR,CAAeJ,MAAf,CAAP;AACH,CARD;AASA,eAAe3B,KAAf","sourcesContent":["import axios from \"axios\";\nimport qs from 'qs';\nimport { isPlainObject } from '@/assets/utils';\nimport { Notify } from 'vant';\nimport md5 from 'blueimp-md5';\naxios.defaults.baseURL = '';\naxios.defaults.timeout = 60000;\naxios.defaults.transformRequest = data => {\n    if (isPlainObject(data)) return qs.stringify(data);\n    return data;\n};\naxios.interceptors.request.use(config => {\n    // 针对于部分接口，我们携带令牌和签名信息\n    let apiList = ['/check_login', '/user_info', '/user_update', '/store', '/store_remove', '/store_list'],\n        token = localStorage.getItem('token'); //token\n    if (apiList.includes(config.url.replace('/api', '')) && token) { //replace替换api为空\n        let time = +new Date(), //时间戳\n            sign = md5(`${token}@${time}@zhufeng`); //签名信息\n        config.headers['authorzation'] = token;\n        config.headers['time'] = time;\n        config.headers['sign'] = sign;\n    }\n    return config;\n});\naxios.interceptors.response.use(response => {\n    return response.data;\n}, reason => {\n    Notify({\n        type: 'danger',\n        message: '小主,当前网络繁忙,请稍后再试!'\n    });\n    return Promise.reject(reason);\n});\nexport default axios;"]}]}