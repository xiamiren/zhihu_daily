{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Person.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Person.vue","mtime":1658978959151},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658554910597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTmF2IGZyb20gIkAvY29tcG9uZW50cy9OYXYudnVlIjsNCmltcG9ydCB7IG9uQmVmb3JlTW91bnQsIGNvbXB1dGVkIH0gZnJvbSAidnVlIjsNCmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOw0KaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICJ2dWV4IjsNCmltcG9ydCB7IFRvYXN0IH0gZnJvbSAidmFudCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogeyBOYXYgfSwNCiAgbmFtZTogIlBlcnNvbiIsDQogIHNldHVwKCkgew0KICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKTsNCiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsNCiAgICBjb25zdCBzaWdub3V0ID0gKCkgPT4gew0KICAgICAgVG9hc3QoIuWwj+S4u++8jOaCqOW3sue7j+WuieWFqOmAgOWHun4iKTsNCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOw0KICAgICAgc3RvcmUuY29tbWl0KCJjaGFuZ2VJc0xvZ2luIiwgbnVsbCk7DQogICAgICBzdG9yZS5jb21taXQoImNoYW5nZUluZm8iLCBudWxsKTsNCiAgICAgIHN0b3JlLmNvbW1pdCgnY2hhbmdlU3RvcmVMaXN0JywgbnVsbCk7DQogICAgICByb3V0ZXIucmVwbGFjZSgiL2xvZ2luIik7DQogICAgfTsNCiAgICAvLyDorqHnrpflsZ7mgKd2dWV45Lit55qE55So5oi355qE5omA5pyJ5L+h5oGvDQogICAgbGV0IGluZm8gPSBjb21wdXRlZCgoKSA9PiB7DQogICAgICBsZXQgeyBpc0xvZ2luLCBpbmZvfSA9IHN0b3JlLnN0YXRlOw0KICAgICAgaWYoaXNMb2dpbiAmJiBpbmZvKSB7DQogICAgICAgIHJldHVybiBpbmZvOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIG51bGw7DQogICAgfSkNCg0KICAgIC8vIOa4suafk+S5i+WJjeiOt+W+l+eUqOaIt+eahCBpc0xvZ2luIC8gaW5mb++8jOW5tuWtmOWCqOWIsHZ1ZXjkuK0NCiAgICBvbkJlZm9yZU1vdW50KCgpID0+IHsNCiAgICAgIGxldCB7aXNMb2dpbiwgaW5mb30gPSBzdG9yZS5zdGF0ZTsNCiAgICAgIGlmKGlzTG9naW4gPT09IG51bGwpIHsNCiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUFzeW5jSXNMb2dpbicpDQogICAgICB9DQogICAgICBpZihpbmZvID09PSBudWxsKSB7DQogICAgICAgIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VBc3luY0luZm8nKQ0KICAgICAgfQ0KICAgIH0pDQoNCiAgICByZXR1cm4gew0KICAgICAgc2lnbm91dCwNCiAgICAgIGluZm8NCiAgICB9Ow0KICB9LA0KfTsNCg=="},{"version":3,"sources":["C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Person.vue"],"names":[],"mappings":";AAaA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE5B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC;EACnB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE;MACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;IACD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MACxB,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACb;MACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC;;IAED,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;MAClB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;QACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrC;MACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC;IACF,CAAC;;IAED,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC;IACL,CAAC;EACH,CAAC;AACH,CAAC","file":"C:/Users/James/Desktop/kejian/vue3知乎日报/zhihu/src/pages/Person.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <Nav />\r\n  <div class=\"base-info\" v-if=\"info\">\r\n    <img :src=\"info.pic\" alt=\"\" @click=\"$router.push('/updateperson')\"/>\r\n    <p>{{info.name}}</p>\r\n  </div>\r\n  <van-cell-group>\r\n    <van-cell title=\"我的收藏\" is-link url=\"#/store\" />\r\n    <van-cell title=\"退出登录\" @click=\"signout\" />\r\n  </van-cell-group>\r\n</template>\r\n\r\n<script>\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport { onBeforeMount, computed } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { Toast } from \"vant\";\r\n\r\nexport default {\r\n  components: { Nav },\r\n  name: \"Person\",\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const signout = () => {\r\n      Toast(\"小主，您已经安全退出~\");\r\n      localStorage.removeItem(\"token\");\r\n      store.commit(\"changeIsLogin\", null);\r\n      store.commit(\"changeInfo\", null);\r\n      store.commit('changeStoreList', null);\r\n      router.replace(\"/login\");\r\n    };\r\n    // 计算属性vuex中的用户的所有信息\r\n    let info = computed(() => {\r\n      let { isLogin, info} = store.state;\r\n      if(isLogin && info) {\r\n        return info;\r\n      }\r\n      return null;\r\n    })\r\n\r\n    // 渲染之前获得用户的 isLogin / info，并存储到vuex中\r\n    onBeforeMount(() => {\r\n      let {isLogin, info} = store.state;\r\n      if(isLogin === null) {\r\n        store.dispatch('changeAsyncIsLogin')\r\n      }\r\n      if(info === null) {\r\n        store.dispatch('changeAsyncInfo')\r\n      }\r\n    })\r\n\r\n    return {\r\n      signout,\r\n      info\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.base-info {\r\n  box-sizing: border-box;\r\n  margin: 20px 0;\r\n\r\n  img {\r\n    display: block;\r\n    margin: 0 auto;\r\n    width: 86px;\r\n    height: 86px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  p {\r\n    line-height: 50px;\r\n    font-size: 18px;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}