{"remainingRequest":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Login.vue","mtime":1658979157304},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\babel-loader\\lib\\index.js","mtime":1658554870645},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658554939499},{"path":"C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1658554910597}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTmF2IGZyb20gIkAvY29tcG9uZW50cy9OYXYudnVlIjsNCmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIHJlZiB9IGZyb20gInZ1ZSI7DQppbXBvcnQgYXBpIGZyb20gIi4uL2FwaS9pbmRleCI7DQppbXBvcnQgeyBUb2FzdCB9IGZyb20gInZhbnQiOw0KaW1wb3J0IHsgdXNlU3RvcmV9IGZyb20gJ3Z1ZXgnOw0KaW1wb3J0e3VzZVJvdXRlciwgdXNlUm91dGV9IGZyb20gJ3Z1ZS1yb3V0ZXInDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsgTmF2IH0sDQogIG5hbWU6ICJMb2dpbiIsDQogIHNldHVwKCkgew0KICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKSwNCiAgICAgcm91dGVyID0gdXNlUm91dGVyKCksDQogICAgIHJvdXRlID0gdXNlUm91dGUoKTsNCg0KICAgIGxldCBzdGF0ZSA9IHJlYWN0aXZlKHsNCiAgICAgIHBob25lOiAiIiwNCiAgICAgIGNvZGU6ICIiLA0KICAgICAgZW5hYmxlOiB0cnVlLA0KICAgICAgdGltZTogIjYwcyIsDQogICAgfSk7DQogICAgbGV0IGZvcm1Cb3ggPSByZWYobnVsbCk7DQogICAgLy8g5Y+R6YCB6aqM6K+B56CBDQogICAgY29uc3Qgc2VuZGNvZGUgPSBhc3luYyAoKSA9PiB7DQogICAgICB0cnkgew0KICAgICAgICAvLyDmoKHpqozmiYvmnLrlj7cNCiAgICAgICAgYXdhaXQgZm9ybUJveC52YWx1ZS52YWxpZGF0ZSgicGhvbmUiKTsNCiAgICAgICAgLy8g5Y+R6YCB6K+35rGCDQogICAgICAgIGxldCB7IGNvZGUgfSA9IGF3YWl0IGFwaS5waG9uZUNvZGUoc3RhdGUucGhvbmUpOw0KICAgICAgICBpZiAoK2NvZGUgIT09IDApIHsNCiAgICAgICAgICBUb2FzdCgi5b2T5YmN572R57uc57mB5b+Z77yM6K+356iN5ZCO5YaN6K+V77yBIik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIC8vIOW8gOWQr+WAkuiuoeaXtg0KICAgICAgICBzdGF0ZS5lbmFibGUgPSBmYWxzZTsNCiAgICAgICAgc3RhdGUudGltZSA9IGAxMHNgOw0KICAgICAgICBsZXQgbiA9IDEwOw0KICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgICAgbi0tOw0KICAgICAgICAgIGlmIChuID09PSAwKSB7DQogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsNCiAgICAgICAgICAgIHN0YXRlLmVuYWJsZSA9IHRydWU7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIHN0YXRlLnRpbWUgPSBgJHtufXNgOw0KICAgICAgICB9LCAxMDAwKTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQ0KICAgIH07DQogICAgLy8g6KGo5Y2V5o+Q5LqkDQogICAgY29uc3Qgc3VibWl0ID0gYXN5bmMgKCkgPT4gew0KICAgICAgLy8g55m75b2VDQogICAgICBsZXQgeyBjb2RlLCB0b2tlbiB9ID0gYXdhaXQgYXBpLmxvZ2luKHN0YXRlLnBob25lLCBzdGF0ZS5jb2RlKTsNCiAgICAgIC8vIOmAmui/h2NvZGXvvIzpqozor4HmmK/lkKbnmbvlvZXmiJDlip8NCiAgICAgIGlmKCtjb2RlICE9PSAwKSB7DQogICAgICAgIFRvYXN0KCflsI/kuLvlvojpgZfmhr7vvIzlvZPliY3nmbvlvZXlpLHotKXkuoYhJyk7DQogICAgICAgIGZvcm1Cb3gudmFsdWUucmVzZXRWYWxpZGF0aW9uKCk7DQogICAgICAgIHN0YXRlLmNvZGUgPSAnJzsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy8g5a2Y5YKodG9rZW7kv6Hmga8NCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsNCiAgICAgIC8vIOWtmOWCqOaYr+WQpueZu+W9leeahOeKtuaAgQ0KICAgICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VJc0xvZ2luJywgdHJ1ZSk7DQogICAgICAvLyDlrZjlgqjojrflj5bliLDnmoTnmbvlvZXnmoTkv6Hmga8NCiAgICAgIHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VBc3luY0luZm8nKQ0KICAgICAgLy8g5riF6ZmkdnVleOS4reW3suacieeahHN0b3JlbGlzdOeahOS/oeaBrw0KICAgICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VTdG9yZUxpc3QnLCBudWxsKTsNCiAgICAgIFRvYXN0KCflsI/kuLvnnJ/mo5LvvIzlvZPliY3nmbvlvZXmiJDlip/kuoYhJyk7DQogICAgICBsZXQgZnJvbSA9IHJvdXRlLnF1ZXJ5LmZyb207DQogICAgICAvLyByb3V0ZeS4reWmguaenOaciWZyb23ot7PovazliLBmcm9t77yM5rKh5pyJZnJvbei3s+i9rOWIsOS4quS6uuS4reW/gw0KICAgICAgaWYoZnJvbSkgew0KICAgICAgICByb3V0ZXIucmVwbGFjZShgLyR7ZnJvbX1gKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgcm91dGVyLnJlcGxhY2UoYC9wZXJzb25gKTsNCiAgICB9Ow0KDQogICAgcmV0dXJuIHsNCiAgICAgIC4uLnRvUmVmcyhzdGF0ZSksDQogICAgICBmb3JtQm94LA0KICAgICAgcmVnUGhvbmU6IC9eMVxkezEwfS8sDQogICAgICByZWdDb2RlOiAvXGR7Nn0vLA0KICAgICAgc2VuZGNvZGUsDQogICAgICBzdWJtaXQsDQogICAgfTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["C:\\Users\\James\\Desktop\\kejian\\vue3知乎日报\\zhihu\\src\\pages\\Login.vue"],"names":[],"mappings":"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","file":"C:/Users/James/Desktop/kejian/vue3知乎日报/zhihu/src/pages/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <Nav />\r\n  <van-form ref=\"formBox\" @submit=\"submit\">\r\n    <van-cell-group inset>\r\n      <!-- 手机号 -->\r\n      <van-field\r\n        v-model=\"phone\"\r\n        center\r\n        label=\"手机号\"\r\n        label-width=\"50px\"\r\n        name=\"phone\"\r\n        :rules=\"[\r\n          { required: true, message: '手机号为必填项' },\r\n          { pattern: regPhone, message: '手机号格式不对哦~' },\r\n        ]\"\r\n      >\r\n        <template #button>\r\n          <van-button\r\n            size=\"small\"\r\n            :type=\"enable ? 'primary' : ''\"\r\n            @click=\"sendcode\"\r\n            class=\"form-btn\"\r\n            :disabled=\"!enable\"\r\n          >\r\n            {{ enable ? \"发送验证码\" : time }}\r\n          </van-button>\r\n        </template>\r\n      </van-field>\r\n      <!-- 验证码 -->\r\n      <van-field\r\n        v-model=\"code\"\r\n        label=\"验证码\"\r\n        label-width=\"50px\"\r\n        :rules=\"[\r\n          { required: true, message: '验证码为必填项' },\r\n          { pattern: regCode, message: '验证码必须是六位数字哦' },\r\n        ]\"\r\n      />\r\n    </van-cell-group>\r\n\r\n    <!-- 登录/注册按钮 -->\r\n    <div style=\"margin: 20px 40px\">\r\n      <van-button round block type=\"primary\" native-type=\"submit\">\r\n        立即登录/注册\r\n      </van-button>\r\n    </div>\r\n  </van-form>\r\n</template>\r\n\r\n<script>\r\nimport Nav from \"@/components/Nav.vue\";\r\nimport { reactive, toRefs, ref } from \"vue\";\r\nimport api from \"../api/index\";\r\nimport { Toast } from \"vant\";\r\nimport { useStore} from 'vuex';\r\nimport{useRouter, useRoute} from 'vue-router'\r\nexport default {\r\n  components: { Nav },\r\n  name: \"Login\",\r\n  setup() {\r\n    const store = useStore(),\r\n     router = useRouter(),\r\n     route = useRoute();\r\n\r\n    let state = reactive({\r\n      phone: \"\",\r\n      code: \"\",\r\n      enable: true,\r\n      time: \"60s\",\r\n    });\r\n    let formBox = ref(null);\r\n    // 发送验证码\r\n    const sendcode = async () => {\r\n      try {\r\n        // 校验手机号\r\n        await formBox.value.validate(\"phone\");\r\n        // 发送请求\r\n        let { code } = await api.phoneCode(state.phone);\r\n        if (+code !== 0) {\r\n          Toast(\"当前网络繁忙，请稍后再试！\");\r\n          return;\r\n        }\r\n        // 开启倒计时\r\n        state.enable = false;\r\n        state.time = `10s`;\r\n        let n = 10;\r\n        let timer = setInterval(() => {\r\n          n--;\r\n          if (n === 0) {\r\n            clearInterval(timer);\r\n            state.enable = true;\r\n            return;\r\n          }\r\n          state.time = `${n}s`;\r\n        }, 1000);\r\n      } catch (error) {}\r\n    };\r\n    // 表单提交\r\n    const submit = async () => {\r\n      // 登录\r\n      let { code, token } = await api.login(state.phone, state.code);\r\n      // 通过code，验证是否登录成功\r\n      if(+code !== 0) {\r\n        Toast('小主很遗憾，当前登录失败了!');\r\n        formBox.value.resetValidation();\r\n        state.code = '';\r\n        return;\r\n      }\r\n      // 存储token信息\r\n      localStorage.setItem('token', token);\r\n      // 存储是否登录的状态\r\n      store.commit('changeIsLogin', true);\r\n      // 存储获取到的登录的信息\r\n      store.dispatch('changeAsyncInfo')\r\n      // 清除vuex中已有的storelist的信息\r\n      store.commit('changeStoreList', null);\r\n      Toast('小主真棒，当前登录成功了!');\r\n      let from = route.query.from;\r\n      // route中如果有from跳转到from，没有from跳转到个人中心\r\n      if(from) {\r\n        router.replace(`/${from}`);\r\n        return;\r\n      }\r\n      router.replace(`/person`);\r\n    };\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      formBox,\r\n      regPhone: /^1\\d{10}/,\r\n      regCode: /\\d{6}/,\r\n      sendcode,\r\n      submit,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van-form {\r\n  margin-top: 30px;\r\n\r\n  .form-btn {\r\n    width: 78px;\r\n  }\r\n}\r\n</style>\r\n"]}]}